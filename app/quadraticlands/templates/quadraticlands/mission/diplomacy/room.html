{% extends 'quadraticlands/components/base.html' %}
{% load humanize static i18n %}

{% block 'twittercard' %}
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@gitcoin" />
<meta name="twitter:title" content="Gitcoin Quadratic Lands - Workstream" />
<meta name="twitter:description"
  content="Gitcoin is where builders, developers, and protocols come together to build and fund the open web." />
<meta name="twitter:image" content="{% static "v2/images/quadraticlands/twitter/default.png" %}" />
{% endblock %}

{% block 'content' %}



<!-- Diplomacy Room Hero -->
<section class="hero knightrider" data-kinetics-mode data-kinetics-mode-type="rain" data-kinetics-mode-speed="5"
  data-kinetics-mode-boundery="endless">

  <div class="background">
    <!-- svg needs preserveAspectRatio="xMidYMid slice" -->
    {% include "quadraticlands/_inlinesvg/hero-diplomacy.svg" %}
  </div>

  <div class="content centered pushdown" data-kinetics-attraction data-kinetics-attraction-chance=".6"
    data-kinetics-attraction-force="3" data-kinetics-attraction-grow="5">
    <a href="/quadraticlands/mission/diplomacy"><h1><span>Quadratic Diplomacy</span></h1></a>
    <h1 class="big">Devilhunters</h1>
    <p>This room was created on TIME by PERSON and is adminsitered by PERSON; it has NUMBER people in it & represents AMOUNT of GTC and has created AMOUNT of Sybil Resistence on Gitcoin.</p>
  </div>

</section>




<!-- members to vouche -->
<section class="diplomacy-room-members" data-kinetics-mode data-kinetics-mode-type="space" data-kinetics-mode-speed="1">

	<!-- @kev : loop div.member with users of room
			+ autofill value of input of last vote 
			see i added data-atributes you need to populate
			so javascript can use it -->

	<div class="member-card">
		<div class="front">
			<figure><img src="/dynamic/avatar/scco"></figure>
			<div class="username">catwoman</div>
			<div class="tokens_in">4334</div>
			<div class="tokens_out">4334</div>
			<input data-kinetics-attraction data-member data-userid="1" data-username="catwoman" type="number" placeholder="0" value="">
		</div>
		<div class="back">
			<div class="wrapper tokens_in">
				<div>kevin<span>143</span></div>
				<div>peter<span>11</span></div>
				<div>sabrina<span>13.21</span></div>
			</div>
			<div class="wrapper tokens_out">
				<div>kevin<span>143</span></div>
				<div>peter<span>11</span></div>
				<div>sabrina<span>13.21</span></div>
			</div>
		</div>
	</div>


	<div class="member-card">
		<div class="front">
			<figure><img src="/dynamic/avatar/scco"></figure>
			<div class="username">defi dad</div>
			<div class="tokens_in">212</div>
			<div class="tokens_out">0</div>
			<input data-kinetics-attraction data-member data-userid="2" data-username="defi dad" type="number" placeholder="0" value="">
		</div>
		<div class="back">
			<div class="wrapper tokens_in">
				<div>kevin<span>143</span></div>
				<div>peter<span>11</span></div>
				<div>sabrina<span>13.21</span></div>
			</div>
			<!-- as defi dad has no tokens out, we dont need to render tokens_out
			<div class="wrapper tokens_out">
				<div>kevin<span>143</span></div>
				<div>peter<span>11</span></div>
				<div>sabrina<span>13.21</span></div>
			</div>
			-->
		</div>
	</div>


	<div class="member-card">
		<div class="front">
			<figure><img src="/dynamic/avatar/scco"></figure>
			<div class="username">kevin</div>
			<div class="tokens_in">0</div>
			<div class="tokens_out">33.33</div>
			<input data-kinetics-attraction data-member data-userid="3" data-username="kevin" type="number" placeholder="0" value="">
		</div>
		<div class="back">
			<!-- as kevin has no tokens in, we dont need to render tokens_in
			<div class="wrapper tokens_in">
				<h3>kevin</h3>
				<div>catwoman<span>143</span></div>
				<div>peter<span>11</span></div>
				<div>sabrina<span>13.21</span></div>
			</div>
			-->
			<div class="wrapper tokens_out">
				<div>kevin<span>143</span></div>
				<div>peter<span>11</span></div>
				<div>sabrina<span>13.21</span></div>
			</div>
		</div>
	</div>


	<!-- as peter is seeing his self here - we need to block him from vote on himself 
		by adding .self to the .membercard  AND adding readonly to the input field-->
	<div class="member-card self">
		<div class="front">
			<figure><img src="/dynamic/avatar/scco"></figure>
			<div class="username">peter</div>
			<div class="tokens_in">433</div>
			<div class="tokens_out">33.33</div>
			<input readonly data-kinetics-attraction data-member data-userid="4" data-username="peter" type="number" placeholder="0" value="">
		</div>
		<div class="back">
			<div class="wrapper tokens_in">
				<div>kevin<span>143</span></div>
				<div>peter<span>11</span></div>
				<div>sabrina<span>13.21</span></div>
				<div>kevin<span>143</span></div>
				<div>peter<span>11</span></div>
				<div>sabrina<span>13.21</span></div>
				<div>kevin<span>1433</span></div>
				<div>peter<span>1131</span></div>
				<div>superlongusername123456<span>1123312345612.21</span></div>
			</div>
			<div class="wrapper tokens_out">
				<div>kevin<span>143</span></div>
				<div>peter<span>11</span></div>
				<div>sabrina<span>13.21</span></div>
			</div>
		</div>
	</div>



</section>




<!-- diplomacy vouche bar -->
<section class="diplomacy-vouche-bar">

	<!-- @kev : this is the place where we do some calculations in jscript
	and populate the divs via the #ids -->

	<div class="col">
		<p>Wallet <span id="diplomacy_wallet_address"></span></p>
		<div id="diplomacy_wallet_balance"></div>
	</div>

	<div class="col">
		<p>Used</p>
		<!-- @kev: put the amount from db here. in the data-atrib and the div itself! -->
		<div id="diplomacy_wallet_used" data-used="500">500</div>
	</div>

	<div class="col">
		<p>Available</p>
		<!-- @kev: will be calculated by current wallet - in database used -->
		<div id="diplomacy_wallet_available"></div>
	</div>

	<div class="col">
		<p>Use</p>
		<div id="diplomacy_wallet_use">0</div>
	</div>

	<div class="col">
		<a id="vouche_button" class="btn aqua" data-kinetics-attraction data-kinetics-attraction-grow="6">Vouch</a>
	</div>

</section>



<!-- diplomacy roomlog headline -->
<section class="introduction" style="margin-top: 6em; margin-bottom: 3em;">
  <h1>Roomlog</h1>
</section>
<!-- diplomacy roomlog -->
<section class="diplomacy-roomlog" style="margin-top:3em;">


	<!-- @kev : every .entry is one event - build together by building blocks 
		you see a member can have optional a span for received .tokens 
		and .actions can be "vouched, invited, has joined, created the room ... "
		you so you just have to loop all entrys and build the lego together :)
		-->

	<div class="entry">

		<span class="member">
			<img src="/dynamic/avatar/scco">
			<span class="username">scco</span>
		</span>

		<span class="action">vouched</span>

		<span class="member">
			<img src="/dynamic/avatar/scco">
			<span class="username">peter schiff</span>
			<span class="tokens">3123.32</span>
		</span>	

		<span class="member">
			<img src="/dynamic/avatar/scco">
			<span class="username">kevin</span>
			<span class="tokens">312323.32</span>
		</span>

		<span class="member">
			<img src="/dynamic/avatar/scco">
			<span class="username">superlongusername</span>
			<span class="tokens">312323.32</span>
		</span>

		<span class="time">14m</span>

	</div>



	<div class="entry">

		<span class="member">
			<img src="/dynamic/avatar/scco">
			<span class="username">scco</span>
		</span>

		<span class="action">vouched</span>

		<span class="member">
			<img src="/dynamic/avatar/scco">
			<span class="username">peter schiff</span>
			<span class="tokens">3123.32</span>
		</span>	

		<span class="time">23h</span>

	</div>



	<div class="entry">

		<span class="member">
			<img src="/dynamic/avatar/scco">
			<span class="username">kevin</span>
		</span>

		<span class="action">invited</span>

		<span class="member">
			<img src="/dynamic/avatar/scco">
			<span class="username">octavian</span>
		</span>	

		<span class="time">1d</span>

	</div>



	<div class="entry">

		<span class="member">
			<img src="/dynamic/avatar/scco">
			<span class="username">kevin</span>
		</span>

		<span class="action">kicked</span>

		<span class="member">
			<img src="/dynamic/avatar/scco">
			<span class="username">peter</span>
		</span>	

		<span class="time">3d</span>

	</div>



	<div class="entry">

		<span class="member">
			<img src="/dynamic/avatar/scco">
			<span class="username">zach</span>
		</span>

		<span class="action">has joined</span>

		<span class="time">5d</span>

	</div>



	<div class="entry">

		<span class="member">
			<img src="/dynamic/avatar/scco">
			<span class="username">kevin</span>
		</span>

		<span class="action">created the room</span>

		<span class="time">5d</span>

	</div>



</section>



<!-- administration headline -->
<!-- @kev : this part is for owner of room only.-->
<section class="introduction" style="margin-bottom: 3em;">
  <h1>Administration</h1>
</section>




<!-- diplomacy invite -->
<!-- @kev : this part is for owner of room only.-->
<section class="diplomacy-invite">
  <div class="wrapper">
    <div class="info">
      Invite your Buddyâ€™s with this Link
    </div>
    <div class="input">
      <input id="room_link" type="text" readonly value="https://gitcoin.co/quadraticlands/mission/diplomacy/4934-devilhunters">
      <button id="room_link_button">copy</button>
    </div>
  </div>
</section>




<!-- diplomacy member admin -->
<!-- @kev : this part is for owner of room only. loop throu all members to
give him the option to delete a user . see i added a class .self on .member
what hides the remove button + adds a (you) instead.
-->

<section class="diplomacy-member-admin">

	<!-- loop .members -->

	<div class="member self">
		<img src="/dynamic/avatar/scco">
		<span class="username">Kevin</span>
		<div class="action"><a class="btn pink">Remove</a></div>
	</div>

	<div class="member">
		<img src="/dynamic/avatar/scco">
		<span class="username">Richard</span>
		<div class="action"><a class="btn pink">Remove</a></div>
	</div>

	<div class="member">
		<img src="/dynamic/avatar/scco">
		<span class="username">Superlongusername</span>
		<div class="action"><a class="btn pink">Remove</a></div>
	</div>

</section>




<!-- danger zone -->
<section class="introduction" style="margin-top: 6em; margin-bottom: 3em;">
  <h1>Danger Zone</h1>
</section>


<!-- danger zone admin : delete room -->
<!-- @kev see on input the data-atribute data-roomname - what needs to get populated with the roomname
	so the js will just show delete button when roomname==inputvalue . i put devilhunters in to test -->
<section class="diplomacy-delete-room">
	<div class="wrapper">
		<div class="info">
			Enter your Roomname <span>devilhunters</span> to delete it
		</div>
		<div id="delete_room_interface" class="input">
			<input id="delete_room" type="text" placeholder="Roomname" data-roomname="devilhunters">
			<button class="disabled" id="delete_room_button">Delete Room</button>
		</div>
	</div>
</section>



<!-- danger zone for members - but NOT the admin-->
<!-- @kev see on input the data-atribut data-phrase - that have to match the input to show 
	a user the leave-button -->
<section class="diplomacy-leave-room">
	<div class="wrapper">
		<div class="info">
			Type <span>live long and prosper</span> to leave the Room
		</div>
		<div id="leave_room_interface" class="input">
			<input id="leave_room" type="text" placeholder="leave Room" data-phrase="live long and prosper">
			<button class="disabled" id="leave_room_button">Leave Room</button>
		</div>
	</div>
</section>







{% endblock %}

{% block 'scripts' %}

<!-- force web3modal to popup automatically when no provider selected-->
<script src="{% static "v2/js/quadraticlands/forceWallet.js" %}"></script>

<!-- sfx library-->
<script src="{% static "v2/js/lib/quadraticlands/tone.js" %}"></script>

<!-- animate workstream page header image ( hero-workstream.svg ) -->
<script src="{% static "v2/js/quadraticlands/mission/diplomacy/room.js" %}"></script>

{% endblock %}
